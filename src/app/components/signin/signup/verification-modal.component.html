<div 
  class="verification-modal-overlay" 
  *ngIf="isVisible"
  (click)="onOverlayClick($event)"
>
  <div class="verification-modal-content" (click)="$event.stopPropagation()">
    <div class="verification-modal-header">
      <h2>Verify Your Email</h2>
      <button class="verification-close-btn" (click)="onClose()" type="button" aria-label="Close modal">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="verification-modal-body">
      <p>We've sent a verification code to <strong>{{ email }}</strong></p>
      <p class="verification-sub-text">Please enter the code below to verify your email address.</p>
      
      <div class="verification-input-container">
        <input
          type="text"
          class="verification-input"
          placeholder="Enter verification code"
          [(ngModel)]="verificationCode"
          maxlength="6"
          (keyup.enter)="onVerify()"
          autofocus
        />
      </div>

      <div *ngIf="verificationError" class="verification-error-message" style="white-space: pre-line;">
        <i class="fas fa-exclamation-circle"></i>
        <div>{{ verificationError }}</div>
      </div>

      <div class="verification-modal-actions">
        <button 
          type="button" 
          class="verification-btn-secondary" 
          (click)="onResend()"
          [disabled]="isVerifying"
        >
          Resend Code
        </button>
        <button 
          type="button" 
          class="verification-btn-primary" 
          (click)="onVerify()"
          [disabled]="isVerifying || !verificationCode || verificationCode.trim().length < 4"
        >
          <span *ngIf="!isVerifying">Verify</span>
          <div *ngIf="isVerifying" class="verification-loading-spinner"></div>
        </button>
      </div>
    </div>
  </div>
</div>

