<main class="main overflow-hidden">

  <!-- Header Component (for unauthorized/public routes) -->
  <app-header *ngIf="showHeader"></app-header>

  <!-- Floating Buttons Component (for authorized routes) -->
  <app-floating-buttons *ngIf="showSidebar"></app-floating-buttons>

  <!-- Sidebar Component (for authorized routes) -->
  <app-sidebar *ngIf="showSidebar"></app-sidebar>

  <!-- Notifications Component (for authorized routes) -->
  <app-notifications *ngIf="showSidebar"></app-notifications>

  <!-- Real-time Notification Cards -->
  <div class="notification-container" *ngIf="isAuthenticated">
    <app-notification-card
      *ngFor="let notification of realTimeNotifications"
      [notification]="notification"
      [autoClose]="true"
      [duration]="5000">
    </app-notification-card>
  </div>

  <!-- Main Content -->
  <div [class.content-with-sidebar]="showSidebar" 
       [class.content-with-header]="showHeader" 
       [class.content-with-toolbar]="showSidebar"
       [class.sidebar-collapsed]="showSidebar && isSidebarCollapsed">
    <router-outlet></router-outlet>
  </div>
  
  <!-- Footer (only show on public routes, not on signin/signup) -->
  <app-footer *ngIf="showFooter"></app-footer>

  <!-- Toast Notifications -->
  <app-toast></app-toast>

</main>
